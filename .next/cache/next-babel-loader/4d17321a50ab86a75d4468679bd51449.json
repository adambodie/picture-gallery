{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Adam Bodie\\\\Documents\\\\GitHub\\\\picture-gallery\\\\src\\\\components\\\\pictures\\\\Pictures.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport PictureModal from './PictureModal';\nimport PictureOverlay from './PictureOverlay';\nimport axios from 'axios';\nimport '../../styles/pictures.scss';\nimport ReactPaginate from 'react-paginate';\nimport Modal from 'react-modal';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleDoubleLeft, faAngleDoubleRight, faWindowClose } from '@fortawesome/free-solid-svg-icons';\nexport default class Pictures extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handlePageClick\", data => {\n      let selected = data.selected;\n      let offset = Math.ceil(selected * this.state.perPage);\n      this.setState({\n        offset: offset\n      }, () => {\n        this.loadPhotos();\n      });\n    });\n\n    this.state = {\n      data: [],\n      offset: 0,\n      modalIsOpen: false,\n      perPage: 15\n    };\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n\n  openModal(e, index) {\n    const {\n      data\n    } = this.state;\n    let thisData = data[index];\n    this.setState({\n      modalIsOpen: true,\n      thisData: thisData\n    });\n  }\n\n  closeModal() {\n    this.setState({\n      modalIsOpen: false\n    });\n  }\n\n  loadPhotos() {\n    axios.get('https://s3-us-west-2.amazonaws.com/picture-gallery.bodiewebdesign.com/assets/data/pictures.json').then(response => {\n      this.setState({\n        data: response.data.reverse(),\n        pageCount: Math.ceil(response.data.length / this.state.perPage)\n      });\n    }).catch(error => {\n      console.log('Error fetching and parsing Items data');\n    });\n  }\n\n  componentDidMount() {\n    this.loadPhotos();\n  }\n\n  render() {\n    const {\n      data,\n      offset,\n      pageCount,\n      thisData,\n      modalIsOpen\n    } = this.state; //const margin = (window.innerWidth > 512) ? 8 : 3;\n\n    return __jsx(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"container pictures\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"row gallery\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, data.map((item, index) => {\n      if (index >= offset && index < offset + this.state.perPage) {\n        return __jsx(\"div\", {\n          key: index,\n          className: \"photo col-md-4\",\n          onClick: () => {\n            this.openModal(this, index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          src: `https://s3-us-west-2.amazonaws.com/picture-gallery.bodiewebdesign.com/assets/${item.image}`,\n          alt: item.alt,\n          className: \"img-fluid\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }), __jsx(PictureOverlay, {\n          item: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }));\n      }\n\n      return null;\n    })), modalIsOpen === true && __jsx(Modal, {\n      isOpen: modalIsOpen,\n      onRequestClose: this.closeModal,\n      contentLabel: \"Picture Modal\",\n      appElement: document.getElementById('root'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, __jsx(PictureModal, {\n      thisData: thisData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), __jsx(\"button\", {\n      className: \"close-button\",\n      onClick: () => {\n        this.closeModal();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, __jsx(FontAwesomeIcon, {\n      icon: faWindowClose,\n      size: \"3x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), __jsx(ReactPaginate, {\n      previousLabel: __jsx(FontAwesomeIcon, {\n        icon: faAngleDoubleLeft,\n        size: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }),\n      nextLabel: __jsx(FontAwesomeIcon, {\n        icon: faAngleDoubleRight,\n        size: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }),\n      breakClassName: \"break-me\",\n      pageCount: pageCount,\n      marginPagesDisplayed: 8,\n      pageRangeDisplayed: 1,\n      onPageChange: this.handlePageClick,\n      containerClassName: \"pagination\",\n      subContainerClassName: \"pages pagination\",\n      activeClassName: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Adam Bodie/Documents/GitHub/picture-gallery/src/components/pictures/Pictures.js"],"names":["React","Component","PictureModal","PictureOverlay","axios","ReactPaginate","Modal","FontAwesomeIcon","faAngleDoubleLeft","faAngleDoubleRight","faWindowClose","Pictures","constructor","props","data","selected","offset","Math","ceil","state","perPage","setState","loadPhotos","modalIsOpen","openModal","bind","closeModal","e","index","thisData","get","then","response","reverse","pageCount","length","catch","error","console","log","componentDidMount","render","map","item","image","alt","document","getElementById","handlePageClick"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PictureModal from './PictureModal';\r\nimport PictureOverlay from './PictureOverlay';\r\nimport axios from 'axios';\r\nimport '../../styles/pictures.scss';\r\nimport ReactPaginate from 'react-paginate';\r\nimport Modal from 'react-modal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleDoubleLeft, faAngleDoubleRight, faWindowClose } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default class Pictures extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdata: [],\r\n\t\t\toffset: 0,\r\n\t\t\tmodalIsOpen: false,\r\n\t\t\tperPage: 15\r\n\t\t};\r\n\t\tthis.openModal = this.openModal.bind(this);\r\n\t\tthis.closeModal = this.closeModal.bind(this);\r\n\t}\r\n\topenModal(e, index) {\r\n\t\tconst { data } = this.state;\r\n\t\tlet thisData = data[index];\r\n\t\tthis.setState({\r\n\t\t\tmodalIsOpen: true,\r\n\t\t\tthisData: thisData\r\n\t\t});\r\n\t}\r\n\r\n\tcloseModal() {\r\n\t\tthis.setState({modalIsOpen: false});\r\n\t}\r\n\tloadPhotos() {\r\n\t\taxios.get('https://s3-us-west-2.amazonaws.com/picture-gallery.bodiewebdesign.com/assets/data/pictures.json')\r\n\t\t\t.then(response => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: response.data.reverse(),\r\n\t\t\t\t\tpageCount: Math.ceil(response.data.length / this.state.perPage)\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t  console.log('Error fetching and parsing Items data');\r\n\t\t\t});\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.loadPhotos()\r\n\t};\r\n\t\r\n\thandlePageClick = (data) => {\r\n\t\tlet selected = data.selected;\r\n\t\tlet offset = Math.ceil(selected * this.state.perPage);\r\n\t\tthis.setState({offset: offset}, () => {\r\n\t\t\tthis.loadPhotos();\r\n\t\t});\r\n\t};\r\n\trender(){\r\n\t\tconst { data, offset, pageCount, thisData, modalIsOpen } = this.state;\r\n\t\t//const margin = (window.innerWidth > 512) ? 8 : 3;\r\n\t\treturn (\r\n\t\t<div className=\"row\">\r\n\t\t\t<div className=\"container pictures\">\r\n\t\t\t\t<div className=\"row gallery\">\r\n\t\t\t\t\t{data.map((item, index) => {\r\n\t\t\t\t\t\tif (index >= offset && index < offset + this.state.perPage) {\r\n\t\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t\t<div key={index} className=\"photo col-md-4\" onClick={()=> {this.openModal(this, index)}}>\r\n\t\t\t\t\t\t\t\t\t<img src={`https://s3-us-west-2.amazonaws.com/picture-gallery.bodiewebdesign.com/assets/${item.image}`} alt={item.alt} className=\"img-fluid\"/>\r\n\t\t\t\t\t\t\t\t\t<PictureOverlay item={item} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t{modalIsOpen === true &&\r\n\t\t\t\t\t<Modal\r\n\t\t\t\t\t\tisOpen={modalIsOpen}\r\n\t\t\t\t\t\tonRequestClose={this.closeModal}\r\n\t\t\t\t\t\tcontentLabel='Picture Modal'\r\n\t\t\t\t\t\tappElement={document.getElementById('root')}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<PictureModal thisData={thisData} />\r\n\t\t\t\t\t\t<button className=\"close-button\" onClick={()=> {this.closeModal()}}><FontAwesomeIcon icon={faWindowClose} size=\"3x\" /></button>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t}\r\n\t\t\t<ReactPaginate \r\n\t\t\t\tpreviousLabel={<FontAwesomeIcon icon={faAngleDoubleLeft} size=\"lg\" />}\r\n\t\t\t\tnextLabel={<FontAwesomeIcon icon={faAngleDoubleRight} size=\"lg\" />}\r\n\t\t\t\tbreakClassName={\"break-me\"}\r\n\t\t\t\tpageCount={pageCount}\r\n\t\t\t\tmarginPagesDisplayed={8}\r\n\t\t\t\tpageRangeDisplayed={1}\r\n\t\t\t\tonPageChange={this.handlePageClick}\r\n\t\t\t\tcontainerClassName={\"pagination\"}\r\n\t\t\t\tsubContainerClassName={\"pages pagination\"}\r\n\t\t\t\tactiveClassName={\"active\"} \r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n\t\t)\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}